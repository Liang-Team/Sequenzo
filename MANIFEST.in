# Include all Python files
recursive-include sequenzo *.py

# Note: .pyx, .pxd files are only needed for source distribution (sdist)
# For wheel distribution, only the compiled .so/.pyd files are needed
# These files are excluded from wheel by setup.py configuration

# Include all C++ source files for extensions (needed for sdist builds)
recursive-include sequenzo/dissimilarity_measures/src *.cpp
recursive-include sequenzo/dissimilarity_measures/src *.h
recursive-include sequenzo/dissimilarity_measures/src *.hpp
recursive-include sequenzo/clustering/src *.cpp
recursive-include sequenzo/clustering/src *.h
recursive-include sequenzo/clustering/src *.hpp

# Include all header files and external libraries
recursive-include sequenzo/dissimilarity_measures/src/xsimd/include *.hpp
recursive-include sequenzo/dissimilarity_measures/src/xsimd/include *.h
recursive-include sequenzo/dissimilarity_measures/src/eigen *.h
recursive-include sequenzo/dissimilarity_measures/src/eigen *.hpp

# Include data files
recursive-include sequenzo/datasets *.csv

# Include documentation and configuration
include README.md
include LICENSE
include pyproject.toml
include requirements-*.txt

# Exclude unwanted files
global-exclude *.pyc
global-exclude *.pyo
global-exclude __pycache__
global-exclude .DS_Store
global-exclude *.egg-info
# global-exclude *.so   # 应该保留 .so .pyd 等编译后的产物

# 添加这些行：明确排除 Cython 生成的文件和源文件（防止它们进入轮子）
# global-exclude *.pyx  # 排除 Cython 源文件
global-exclude *.pxd
global-exclude *.c    # 排除 Cython 生成的 C 文件

# Exclude test/benchmark files from external libraries to speed up Windows builds
prune sequenzo/dissimilarity_measures/src/eigen/bench
prune sequenzo/dissimilarity_measures/src/eigen/test
prune sequenzo/dissimilarity_measures/src/eigen/demos
prune sequenzo/dissimilarity_measures/src/eigen/doc
prune sequenzo/dissimilarity_measures/src/eigen/unsupported/test
prune sequenzo/dissimilarity_measures/src/xsimd/test
prune sequenzo/dissimilarity_measures/src/xsimd/benchmark
prune sequenzo/dissimilarity_measures/src/xsimd/examples
prune sequenzo/dissimilarity_measures/src/xsimd/docs
